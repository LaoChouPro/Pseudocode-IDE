# Web版使用指南

## 🌐 Web界面

一个简约、高级的黑白灰配色Web界面，提供完整的伪代码编辑和执行环境。

## 功能特性

### ✨ 界面特性
- 🎨 **简约高级设计** - 黑白灰配色方案
- 📱 **完全响应式** - 支持桌面、平板、手机
- ⚡ **实时编辑** - 代码编辑器带行号显示
- 🚀 **即时运行** - 点击运行立即看到结果
- 🔍 **调试模式** - 查看Token流和AST信息
- 📚 **内置文档** - 完整的语法文档
- 💡 **示例代码** - 6个预置示例快速上手

### 🛠️ 编辑器功能
- 代码高亮显示
- 行号显示
- Tab键缩进支持（4空格）
- 一键清空
- 加载示例

### 📤 输出功能
- 实时输出显示
- 错误信息高亮
- 执行时间统计
- 清空输出

## 安装和启动

### 方式1：使用启动脚本（推荐）

```bash
./start_web.sh
```

脚本会自动：
1. 检查并安装依赖
2. 启动Web服务器

### 方式2：手动启动

```bash
# 1. 安装依赖
pip3 install -r requirements.txt

# 2. 启动服务器
python3 web_server.py
```

## 访问Web界面

启动后，打开浏览器访问：

- **线上访问**: https://code.i-o.autos
- **本地访问**: http://localhost:8080 (开发用)
- **网络访问**: http://你的IP地址:8080 (开发用)

## 界面导航

### 1. 编辑器标签页
- **代码编辑区** - 左侧编辑器，支持完整的伪代码语法
- **输出结果区** - 右侧显示运行结果
- **工具栏**
  - 清空 - 清空编辑器内容
  - 加载示例 - 快速加载Hello World示例
  - 运行代码 - 执行伪代码
  - 调试模式 - 显示详细的调试信息

### 2. 文档标签页
完整的语法文档，包括：
- 数据类型
- 变量声明
- 控制结构
- 内置函数

### 3. 示例标签页
6个预置示例：
- Hello World - 基本输出
- 循环计数 - FOR循环
- 数组操作 - 数组使用
- 内置函数 - 字符串函数
- 条件判断 - IF-ELSE
- 计算平均值 - 综合示例

## 使用示例

### 第一步：编写代码

在编辑器中输入：

```pseudocode
DECLARE x : INTEGER
x <- 42
OUTPUT "The answer is", x
```

### 第二步：运行代码

点击"运行代码"按钮，右侧将显示：

```
The answer is 42
```

### 第三步：尝试调试模式

点击"调试模式"按钮，将额外显示：
- Token流信息
- AST结构信息

## 响应式设计

### 桌面端（>1024px）
- 左右分栏布局
- 编辑器和输出并排显示
- 完整的工具栏

### 平板端（768px-1024px）
- 上下分栏布局
- 编辑器在上，输出在下

### 移动端（<768px）
- 单栏布局
- 按钮全宽显示
- 触摸优化

## API端点

Web服务器提供以下API端点：

### POST /api/run
运行伪代码

请求：
```json
{
  "code": "OUTPUT \"Hello\"",
  "debug": false
}
```

响应：
```json
{
  "success": true,
  "output": "Hello",
  "debug_info": null
}
```

### GET /api/examples
获取示例列表

### GET /api/health
健康检查

## 配色方案

严格的黑白灰配色系统：

- **背景色**
  - 主背景: #0a0a0a
  - 次级背景: #111111
  - 表面: #222222

- **文本色**
  - 主文本: #ffffff
  - 次级文本: #b0b0b0
  - 三级文本: #808080

- **边框色**
  - 主边框: #333333
  - 亮边框: #404040

- **强调色**
  - 强调: #ffffff
  - 强调悬浮: #e0e0e0

## 浏览器兼容性

支持所有现代浏览器：
- Chrome/Edge 90+
- Firefox 88+
- Safari 14+
- Opera 76+

## 性能优化

- CSS动画使用GPU加速
- 懒加载和按需渲染
- 防抖和节流处理
- 最小化DOM操作

## 快捷键

- `Tab` - 插入4个空格缩进
- `Ctrl/Cmd + Enter` - 运行代码（计划中）
- `Ctrl/Cmd + /` - 注释/取消注释（计划中）

## 问题排查

### 服务器无法启动
```bash
# 检查端口占用
lsof -i:8080

# 端口已被占用时，修改 web_server.py 中的 port 参数
# 在文件末尾找到: app.run(host='0.0.0.0', port=8080, debug=True)
# 修改为其他端口如: app.run(host='0.0.0.0', port=3000, debug=True)
```

### 依赖安装失败
```bash
# 使用国内镜像
pip3 install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### 浏览器无法访问
- 检查防火墙设置
- 确认服务器已启动
- 尝试使用127.0.0.1:8080而非localhost

## 未来功能

- [ ] 代码自动保存（LocalStorage）
- [ ] 多标签页编辑
- [ ] 代码分享功能
- [ ] 实时协作编辑
- [ ] 主题切换（深色/浅色）
- [ ] 代码自动补全
- [ ] 语法检查实时提示

## 技术栈

- **前端**
  - HTML5
  - CSS3 (响应式Grid/Flexbox)
  - 原生JavaScript (ES6+)

- **后端**
  - Python 3.7+
  - Flask Web框架
  - Flask-CORS跨域支持

- **解释器**
  - 自定义词法分析器
  - 递归下降解析器
  - AST遍历执行引擎

## 截图预览

Web界面特点：
- 极简主义设计
- 高对比度黑白配色
- 清晰的视觉层次
- 流畅的交互动画
- 专业的等宽字体

## 开源许可

本项目为教育目的开发，供A-level CS课程使用。
